<template>
  <div class="my-[1.5rem] md:my-auto">
    <svg
      class="mx-auto"
      xmlns="http://www.w3.org/2000/svg"
      width="104"
      height="104"
      viewBox="0 0 104 104"
      fill="none"
    >
      <path
        d="M75.743 40.1069V37.7953V32.1389C75.743 25.687 73.226 19.5122 68.7659 14.9696C64.3081 10.4291 58.2759 7.89059 52.0002 7.89059C45.7246 7.89059 39.6924 10.4291 35.2346 14.9696C30.7745 19.5122 28.2575 25.687 28.2575 32.1389V37.7953V40.1069L26.1452 41.0459C23.3119 42.3053 20.8902 44.383 19.1836 47.0344C17.4769 49.6858 16.562 52.7926 16.5575 55.9747V79.8033C16.5631 84.147 18.2603 88.2983 21.2568 91.3503C24.2516 94.4005 28.298 96.1042 32.5046 96.1094H71.4959C75.7025 96.1042 79.7489 94.4005 82.7437 91.3503C85.7406 88.2979 87.4379 84.1457 87.443 79.8013L87.443 55.9768L87.443 55.9722M75.743 40.1069L79.3002 37.7953C82.7737 39.3393 85.7302 41.8808 87.8081 45.109C89.886 48.3372 90.9953 52.1121 91.0002 55.9722H87.443M75.743 40.1069L77.8553 41.0459C80.6886 42.3053 83.1103 44.383 84.8169 47.0344C86.5231 49.6851 87.438 52.791 87.443 55.9722M75.743 40.1069L87.443 55.9722M71.5002 39.6684H75.0575V36.1111V32.1389C75.0575 25.9488 72.6438 19.9994 68.3272 15.6027C64.0083 11.2039 58.1367 8.72048 52.0002 8.72048C45.8638 8.72048 39.9922 11.2039 35.6733 15.6027C31.3567 19.9994 28.943 25.9488 28.943 32.1389V36.1111V39.6684H32.5002H71.5002ZM21.6888 45.0536L24.2271 47.5458L21.6888 45.0536C18.8349 47.9604 17.243 51.8891 17.243 55.9722V79.8055C17.243 83.8886 18.8349 87.8173 21.6888 90.7241C24.5448 93.633 28.4325 95.2795 32.5002 95.2795H71.5002C75.568 95.2795 79.4557 93.633 82.3117 90.7241C85.1656 87.8173 86.7575 83.8886 86.7575 79.8055V55.9722C86.7575 51.8891 85.1656 47.9604 82.3117 45.0536C79.4557 42.1447 75.568 40.4983 71.5002 40.4983H32.5002C28.4325 40.4983 24.5448 42.1447 21.6888 45.0536Z"
        stroke="#FF3D9A"
        stroke-width="7.11455"
      />
      <path
        d="M52.0002 60.6667C50.8509 60.6667 49.7487 61.1233 48.9361 61.9359C48.1234 62.7486 47.6669 63.8508 47.6669 65.0001V73.6667C47.6669 74.816 48.1234 75.9182 48.9361 76.7309C49.7487 77.5435 50.8509 78.0001 52.0002 78.0001C53.1495 78.0001 54.2517 77.5435 55.0643 76.7309C55.877 75.9182 56.3335 74.816 56.3335 73.6667V65.0001C56.3335 63.8508 55.877 62.7486 55.0643 61.9359C54.2517 61.1233 53.1495 60.6667 52.0002 60.6667Z"
        fill="#FF3D9A"
      />
    </svg>
    <div class="my-[2rem]">
      <h1
        class="text-[#2A2F4F] text-[1rem] md:text-[1.25rem] font-bold leading-8 text-center"
      >
        Forget Password ?
      </h1>
      <p
        class="text-[#7F8295] max-w-[18rem] md:max-w-[30rem] mt-[0.5rem] text-[0.75rem] md:text-[1rem] font-normal leading-6 text-center"
      >
        Enter the email associated with your account and we'll send a
        Verification Code to reset your password.
      </p>
    </div>
    <form @submit="onSubmit">
      <div>
        <p
          class="text-[#2A2F4F] text-[0.875rem] mb-[0.25rem] ml-[1rem] font-medium"
        >
          Email*
        </p>
        <div class="relative">
          <div
            class="absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
            >
              <path
                d="M18.4666 13.7113C18.4666 13.7116 18.4666 13.7118 18.4666 13.7121C18.4654 14.5288 18.1378 15.3129 17.5536 15.8922C16.9691 16.4719 16.1754 16.799 15.3463 16.8H4.65353C3.82442 16.799 3.03071 16.4719 2.4462 15.8922C1.86198 15.3128 1.53435 14.5285 1.53325 13.7117V6.2883C1.53435 5.47146 1.86198 4.68719 2.4462 4.1078C3.03062 3.5282 3.82418 3.20108 4.65315 3.2H15.3467C16.1757 3.20108 16.9692 3.5282 17.5536 4.1078L18.0466 3.61077L19.1666 13.7121L18.4666 13.7113ZM18.4666 13.7113V6.28872M18.4666 13.7113V6.28872M18.4666 6.28872L18.4666 6.28788L18.4666 6.28872ZM4.6527 3.31515L4.65133 3.31515C4.05551 3.31632 3.47318 3.49425 2.97926 3.82674C2.48528 4.15928 2.10203 4.63144 1.87979 5.18314L1.67291 5.69668L2.125 6.01628L7.93106 10.1209C8.48851 10.6494 9.22947 10.9443 9.99992 10.9443C10.7704 10.9443 11.5113 10.6494 12.0688 10.1209L17.8748 6.01628L18.3269 5.69668L18.12 5.18314C17.8978 4.63144 17.5146 4.15928 17.0206 3.82674C16.5267 3.49425 15.9443 3.31632 15.3485 3.31515H15.3471L4.6527 3.31515ZM2.744 6.83829L1.66103 6.13048V7.42424V13.7121C1.66103 14.5024 1.97765 15.2592 2.53933 15.8162C3.10081 16.373 3.86112 16.6848 4.6527 16.6848H15.3471C16.1387 16.6848 16.899 16.373 17.4605 15.8162C18.0222 15.2592 18.3388 14.5024 18.3388 13.7121V7.42424V6.13048L17.2558 6.83829L12.3181 10.0656L12.2589 10.1042L12.2087 10.1539C11.6234 10.7329 10.8292 11.0591 9.99992 11.0591C9.17068 11.0591 8.37644 10.7329 7.79109 10.1539L7.74089 10.1042L7.68178 10.0656L2.744 6.83829Z"
                stroke="#AAACB9"
                stroke-width="1.4"
              />
            </svg>
          </div>
          <input
            type="email"
            name="email"
            v-model="email"
            v-bind="emailAttrs"
            class="w-full border-[#D4D5DC] border-[0.063rem] outline-0 text-[0.875rem] md:text-[1rem] text-[#000] rounded-full block h-[3rem] md:h-[3.5rem] pl-10 p-2.5 dark:placeholder-[#AAACB9]"
            placeholder="Enter your Email"
          />
        </div>
        <div
          v-if="errors.email"
          class="text-[#cc0000] mx-[1rem] text-[0.875rem] md:text-[1rem] my-[0.75rem]"
        >
          {{ errors.email }}
        </div>
      </div>
      <button
        type="submit"
        class="w-full font-bold mt-[0.5rem] md:mt-[2rem] mx-auto text-white bg-[#FF3D9A] hover:bg-[#e8388c] focus:outline-none leading-7 rounded-full text-[0.875rem] md:text-[1rem] py-[0.6rem] md:py-[0.875rem] text-center dark:bg-[#FF3D9A] dark:focus:ring-red-900"
      >
        <p class="mx-3">Get Code</p>
        <!-- <svg
        aria-hidden="true"
        class="mx-auto w-8 h-8 animate-spin text-[#e8388c] fill-white"
        viewBox="0 0 100 101"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
          fill="currentColor"
        />
        <path
          d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
          fill="currentFill"
        />
      </svg> -->
      </button>
    </form>
  </div>
</template>

<script setup lang="ts">
import { useForm } from 'vee-validate';
import * as yup from 'yup';

definePageMeta({
  layout: 'auth',
});

const { errors, handleSubmit, defineField } = useForm<RegisterForm>({
  validationSchema: yup.object({
    email: yup.string().email().required(),
  }),
});

const onSubmit = handleSubmit(
  (values) => {
    const { email } = values;
    const userPayload = {
      email,
    };
  },
  ({ errors }) => {
    const firstError = Object.keys(errors)[0];
    const el: HTMLElement | null = document.querySelector(
      `[name="${firstError}"]`
    );
    el?.scrollIntoView({
      behavior: 'smooth',
    });
    el?.focus();
  }
);

const [email, emailAttrs] = defineField('email');
</script>
